
#include "dataflash.h"
#include "languages.h"

//------------------------------------------------------------------------------
//         Definitions
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
//         Types
//------------------------------------------------------------------------------


//------------------------------------------------------------------------------
//         Local Variables
//------------------------------------------------------------------------------


//------------------------------------------------------------------------------
/// Exported Variables
//------------------------------------------------------------------------------

__no_init LANGUAGES language;

unsigned char *strings_language[LANGUAGES_TOTAL] = { "Français", \
                                                     "English", \
                                                     "Italiano", \
                                                     "Español", \
                                                     "Deutsch"
                                                   };

//------------------------------------------------------------------------------
/// Exported Functions
//------------------------------------------------------------------------------

void LANGUAGES_Initialize(void)
{
#if 0
    DF_Erase(LANGUAGES_ADDRESS);
#endif

#ifndef APP_BAES
    DF_Read((unsigned char *)&language, 1, LANGUAGES_ADDRESS);

    if (language > German)      // 2.4.0, was Spanish
    {
        language = Unknown;
    }
#else
    language = French;
#endif
}
